# ==============================================
# ChatNShop - Environment Configuration Example
# ==============================================
# Copy this file to .env and fill in your actual values

# -----------------------------
# Application Settings
# -----------------------------
APP_NAME=Intent Classification API
APP_VERSION=1.0.0
HOST=0.0.0.0
PORT=8000
WORKERS=1
LOG_LEVEL=info

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# -----------------------------
# Redis Configuration
# -----------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Redis connection pooling
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# -----------------------------
# Qdrant Vector Database
# -----------------------------
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# -----------------------------
# OpenAI API Configuration
# -----------------------------
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo
OPENAI_TEMPERATURE=0.3
OPENAI_MAX_TOKENS=400

# OpenAI retry settings
OPENAI_MAX_RETRIES=3
OPENAI_TIMEOUT=30

# -----------------------------
# Queue Configuration (Redis-based)
# -----------------------------
# Queue names
AMBIGUOUS_QUERY_QUEUE=chatns:queue:ambiguous_queries
CLASSIFICATION_RESULT_QUEUE=chatns:queue:classification_results
DEAD_LETTER_QUEUE=chatns:queue:dead_letter

# Queue settings
MESSAGE_TTL=86400
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY=5

# Priority queue settings
ENABLE_PRIORITY_QUEUE=true
PRIORITY_HIGH=1
PRIORITY_NORMAL=5
PRIORITY_LOW=10

# -----------------------------
# Monitoring & Metrics
# -----------------------------
ENABLE_QUEUE_METRICS=true
METRICS_INTERVAL=60

# Cost monitoring
ENABLE_COST_MONITORING=true
COST_ALERT_THRESHOLD=100.0

# -----------------------------
# Intent Classification Settings
# -----------------------------
# Confidence thresholds
KEYWORD_CONFIDENCE_THRESHOLD=0.6
EMBEDDING_CONFIDENCE_THRESHOLD=0.7
PRIORITY_THRESHOLD=0.85

# Hybrid classifier weights
KEYWORD_WEIGHT=0.6
EMBEDDING_WEIGHT=0.4

# -----------------------------
# Caching Settings
# -----------------------------
ENABLE_SEMANTIC_CACHE=true
CACHE_TTL=86400
CACHE_SIMILARITY_THRESHOLD=0.95

# -----------------------------
# A/B Testing
# -----------------------------
ENABLE_AB_TESTING=false
AB_TEST_VARIANT=A

# -----------------------------
# Docker/Production Settings
# -----------------------------
# Use these in docker-compose or production
 REDIS_HOST=redis
 QDRANT_HOST=qdrant
