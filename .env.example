# =============================================================================
# INTENT CLASSIFICATION BACKEND - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# =============================================================================
# API CONFIGURATION
# =============================================================================
# FastAPI application settings
APP_NAME=Intent Classification API
APP_VERSION=1.0.0
DEBUG=true
LOG_LEVEL=info

# Server configuration
HOST=0.0.0.0
PORT=8000

# =============================================================================
# AI & LLM CONFIGURATION
# =============================================================================
# OpenAI API configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo
OPENAI_MAX_TOKENS=400
OPENAI_TEMPERATURE=0.3
OPENAI_TIMEOUT_SECS=30

# Embedding model configuration
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_CACHE_SIZE=10000

# Vector database configuration (Qdrant)
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=qdrant-secret-key
QDRANT_COLLECTION_NAME=intent_embeddings
QDRANT_GRPC_PORT=6334

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL database URL
DATABASE_URL=postgresql://user:password@localhost:5432/intent_classification_db

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis connection for caching and queues
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0

# Cache settings
CACHE_TTL=3600
SEMANTIC_CACHE_TTL=86400

# =============================================================================
# QUEUE CONFIGURATION
# =============================================================================
# Message queue settings
QUEUE_NAME=intent_classification
QUEUE_DURABLE=true
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY=5

# Celery configuration
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# INTENT CLASSIFICATION SETTINGS
# =============================================================================
# Confidence thresholds
MIN_CONFIDENCE_THRESHOLD=0.7
AMBIGUITY_THRESHOLD=0.1
FALLBACK_CONFIDENCE=0.5

# Classification modes
ENABLE_RULE_BASED=true
ENABLE_LLM_CLASSIFICATION=true
ENABLE_HYBRID_MODE=true

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# OpenTelemetry tracing
ENABLE_TRACING=true
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Cost tracking
TRACK_COSTS=true
COST_ALERT_THRESHOLD=100.0

# =============================================================================
# SECURITY
# =============================================================================
# API security
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS settings
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
ALLOWED_METHODS=GET,POST,PUT,DELETE
ALLOWED_HEADERS=*

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Testing database (separate from main DB)
TEST_DATABASE_URL=postgresql://user:password@localhost:5432/intent_test_db

# Feature flags
ENABLE_EXPERIMENTS=true
ENABLE_AB_TESTING=true
ENABLE_FEEDBACK_COLLECTION=true

# Development settings
RELOAD=true
WORKERS=1